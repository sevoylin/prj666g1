{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n//import { GoogleLoginComponent} from '../../components/google-login/google-login'; \n@NgModule({\n  declarations: [\n    RegisterPage,\n   // GoogleLoginComponent\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n    //GoogleLoginComponent,\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { User } from '../../models/user';\nimport * as firebase from 'firebase';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  user = {} as User;\n  err_msg = \"\";\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams) {\n  }\n\n  async register(user: User){\n    try{\n      if (user.password.length < 6 || user.password.length > 18){\n        throw {code: \"pwd/length\"};\n      }\n      const result = await firebase.auth().createUserWithEmailAndPassword(user.email, user.password)\n      .then((res) => {\n        let user = firebase.auth().currentUser;\n        user.sendEmailVerification();\n        this.initialUserDoc(user.uid, user.email);\n        firebase.auth().signOut();\n        this.navCtrl.pop();\n      });\n    }\n    catch(e){\n      switch (e.code){\n        case('auth/email-already-in-use'): {\n          this.err_msg = \"Email already registered!\";\n          break;\n        }\n        case('auth/invalid-email'): {\n          this.err_msg = \"Please Using an email to register!\";\n          break;\n        }\n        case('pwd/length'): {\n          this.err_msg = \"Password should be 6-18 digits!\";\n          break;\n        }\n        default:{\n          console.error(e.code);\n          break;\n        }\n      }\n    }\n  }\n\n  initialUserDoc(userId, userEmail){\n    let cu = {} as User;\n    cu.email = userEmail;\n    cu.username = \"\";\n    cu.firstName = \"\";\n    cu.lastName = \"\";\n    cu.eventList = [];\n    cu.friendList = [];\n    cu.blockedUsers = [];\n    cu.location = new firebase.firestore.GeoPoint(0,0);\n    firebase.firestore().collection('Users').doc(userId).set(cu);\n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}